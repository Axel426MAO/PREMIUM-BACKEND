generator client {
  provider = "prisma-client-js"
}


datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


model Book {
  id          Int      @id @default(autoincrement())
  title       String
  isbn        String?  // Opcional: Nem todo livro pode ter um ISBN
  pages       Int
  author      String   
  publisher   String?  
  summary     String?  @db.Text 
  description String?  @db.Text 
  year_launch Int      @map("year_launch")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  @@map("books")
}

// Modelo User para referÃªncia do relacionamento
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  user_type String   @map("user_type")
  status    Boolean  @default(true)
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}


model File {
  id              Int      @id @default(autoincrement())
  reference_table String   @map("reference_table")
  reference_id    Int      @map("reference_id")   
  name            String   // Nome original do arquivo
  file_path       String   @map("file_path")      
  created_at      DateTime @default(now()) @map("created_at")

  @@map("files")
}
